# Task1

---

This task is simple code to control brushed motor using:

- cytron which is motor driver that can control two brushed DC motors with a maximum current of 10A each. and it contain PWM speed control
- using Limit switch at top of robot's tank to indicate if it full or not!
- then using exponential filter (low pass filter) to smooth the start and prevent sudden change to the motor speed

## Define motor pins

---

to control the motor using cyton we only connect two pins to 8,9 arduino pins respectivly:
we connect limit witch pin to 7 arduino pin.

1. Dir pin to control the direction of the motor (Low = clockwise, High = anticlockwise)
2. speed pin (PWM pin to control the speed of the motor)

## Declared variables

---

two variable are declared

```cpp
int Y_fil[2]={0,0};  //the final output signal.
int out_signal; //PWM value which is the input for the filter.
```

1. Y_fil is to store the filtered signal
2. out_signal is the actual speed signal without filtered

## void_setup

---

this where we will define the pins of the motor driver input and output and limit switch input.

## Soft_start

---

Itâ€™s function with two parameter:

1. output which will be the speed of the motor
2. direction to indicate the direction 

this function will do the following

- get the filtered output by the exponatial equation

```cpp
Y_fil[1] = 0.9 * Y_fil[0]+ 0.1 * output;
```

it gives more value to the last filtered output more than the expected value to get out on the motor which will smooth the starting of the motor for example:

we will give the motor 255 as speed value but they will start at 0.1*255 which is equal 25.5

- then we will intialize the motor dir and the speed with this filtered signal
- then this signal will be saved as the last filtered signal to be used in the equation in the second time
- the last signal will increased expontially until the target one

## void_loop

---

this is where we call the function to start the motor movement
we need to know if the tank of robot is full or not befor motor move every cycle.

the motor speed was 255 and the dir was clockwish (LOW)

## The filtered result curve

---

![f7294ba1-4994-4431-9512-76cc7cb9b104.jpg](Task1%201fb1991e09c44678b8f8f876a938f3a6/f7294ba1-4994-4431-9512-76cc7cb9b104.jpg)

## The question answer

In our opinion the selection of the brushed motor is not bad option because:

- its low cost and easy in maintainace
- its more reliable

also I think the brushless motor will be better option as

- it will give us better speed range as it is brushless
- They are less likely to wear out and require maintenance, which can save money in the long run.
- it will be more effienct and quiter
